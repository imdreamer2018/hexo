title: 安全多方计算MPC
author: 追梦人

toc: true

tags:

  - MPC
  - GC
  - OT
  - 密码学
categories: []
date: 2019-05-07 16:07:00

---

# 安全多方计算MPC简介

本文转载自**多方计算**51CTO博客专栏，原文链接：[点击这儿](https://blog.51cto.com/13701316/2136084)！

今天我们来介绍一下基于安全多方计算，从安全性角度来看，数据泄露——隐私安全问题严重；facebook的数据泄露事件闹得很大，原因就是facebook单方面将用户的个人数据提供给了第三方机构，这为个人数据的拥有权敲响了警钟。从数据价值角度来看，数据孤岛——数据之间由于各种原因造成了壁垒，（政府数据由于政策保密性完全不能对外公布，运营商、互联网每家都在收集客户的数据信息，但他们不会将这些数据透露给第三者），所有这些，使得这些数据都无法互通，那么就不能够为数据使用者提供利用价值，达不到1+1>2的效果。

<!-- more -->

## 概述

大数据时代，海量数据的交叉计算可以为科研、医疗、金融等提供更好支持。许多企业或组织出于信息安全或利益的考虑，内部数据是不对外开放的。形成一个个数据孤岛，数据的价值无法体现或变现。安全多方计算（MPC）可以很好解决这一难题。保证各方数据安全的同时，又得到预期计算的结果。

## MPC来源

安全多方计算由我国目前唯一图灵奖获得者姚期智院士提出，其提出场景为百万富翁问题：在没有可信第三方的前提下，两个百万富翁如何不泄露自己的真实财产状况来比较谁更有钱。MPC可以在保证各方数据安全的同时，联合使用各方数据来达到特定的效果，从而充分发挥数据的价值。

多个持有各自私有数据的参与方，共同执行一个计算逻辑计算逻辑（如，求最大值计算），并获得计算结果。但过程中，参与的每一方均不会泄漏各自数据的计算，被称之为MPC计算，MPC计算可以通过对协议的设计而不用依赖于可信第三方。

## MPC名称解释

| 名称 | 全称                           | 中文名称     | 说明                                 |
| ---- | ------------------------------ | ------------ | ------------------------------------ |
| MPC  | Secure Multi-Party Computation | 安全多方计算 | 一种保护数据安全隐私的多方计算算法。 |
| GC   | Garbled Circuit                | 加密电路     | 一种通过加密处理电路的方式。         |
| OT   | Oblivious Transfer             | 不经意传输   | 一种安全的选择、传输协议。           |

## 问题抽象

![Es1zFS.png](https://s2.ax1x.com/2019/05/07/Es1zFS.png)

安全多方计算可以抽象的理解为：两方分别拥有各自的私有数据，在不泄漏各自私有数据的情况下，能够计算出关于公共函数 的结果。整个计算完成时，只有计算结果对双方可知，且双方均不知对方的数据以及计算过程的中间数据。

## 什么是安全多方计算

​	多个持有各自私有数据的参与方，共同执行一个计算逻辑计算逻辑（如，求最大值计算），并获得计算结果。但过程中，参与的每一方均不会泄漏各自数据的计算，被称之为MPC计算。
　　举个例子，Bob和Alice想弄清谁的薪资更高，但因为签署了保密协议而不能透露具体薪资。如果Bob和Alice分别将各自的薪资告诉离职员工Anne，这时Anne就能知道谁的薪资更高，并告诉Bob和Alice。这种方式就是需保证中间人Anne完全可信。
　　而通过MPC则可以设计一个协议，在这个协议中，算法取代中间人的角色，Alice和Bob的薪资以及比较的逻辑均交由算法处理，参与方只需执行计算协议，而不用依赖于一个完全可信的第三方。
　　安全多方计算所要确保的基本性质就是：在协议执行期间发送的消息中不能推断出各方持有的私有数据信息，关于私有数据唯一可以推断的信息是仅仅能从输出结果得到的信息。

### MPC问题分类

由算法适用性来看，MPC既适用于特定的算法，如加法、乘法、AES，集合交集等；也适用于所有可表示成计算过程的通用算法。

根据计算参与方个数不同，可分为只有两个参与方的2PC和多个参与方（≥3）的通用MPC。

1. 安全两方计算所使用的协议为Garbled Circuit(**GC**)+Oblivious Transfer(**OT**)；
2. 安全多方计算所使用的协议为同态加密+秘密分享+OT。

在安全多方计算中，安全挑战模型包括**半诚实敌手模型**和**恶意敌手模**型。市场大部分场景满足半诚实敌手模型，也是JUGO技术产品所考虑的敌手模型。

**半诚实敌手模型**：计算方存在获取其他计算方原始数据的需求，但仍按照计算协议执行。半诚实关系即参与方之间有一定的信任关系，适合机构之间的数据计算；

**恶意敌手模型**：参与方根本就不按照计算协议执行计算过程。参与方可采用任何（恶意）方式与对方通信，且没有任何信任关系。结果可能是协议执行不成功，双方得不到任何数据；或者协议执行成功，双方仅知道计算结果。更多适用于个人之间、或者个人与机构之间的数据计算。

## MPC算法基本原理（2PC半诚实模型）

下面介绍安全两方计算的半诚实模型下的MPC算法原理：

![Es3pWQ.png](https://s2.ax1x.com/2019/05/07/Es3pWQ.png)

### MPC算法执行过程

1. 先对输入数据做预处理。将输入的布尔电路做GC和OT算法（详细在下面叙述），得到输出结果。
   　遵循原则：1、尽量少的数据输入；2、尽量多的数据预处理
   　——数据量太大时会大幅降低算法执行效率。
2. 计算逻辑转化为布尔电路。
   　遵循原则：尽量简单的计算逻辑
   　——由于MPC是计算密集型和通信密集型算法，若计算逻辑很复杂，会对执行效率产生很大影响。
   　转化方式：手动/电路编译器Frutta
3. 将输入的布尔电路做GC和OT算法（详细在下面叙述），得到输出结果。

### GC+OT的两方计算基本框架

GC+ OT是在两方semi-honest模型下的通用型算法，即可以支持任意计算逻辑的安全两方计算。
总体框架如下图：

![Es3SJg.png](https://s2.ax1x.com/2019/05/07/Es3SJg.png)

![Es39zj.png](https://s2.ax1x.com/2019/05/07/Es39zj.png)

## 小结

安全多方计算是一种在不泄漏原始数据的情况下，对数据进行的计算。上述内容首先介绍了MPC的价值及来源，然后详述了两方安全计算的技术实现原理，主要包括GC和OT算法，并对一些技术基础知识做了简要概述。

